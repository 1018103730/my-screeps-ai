# 房间运维设计案（设计阶段）

# 阶段1 - claim 完成

controller 在发现自己等级到达 1 级时，会运行 harvester 的自动规划，发布如下 creep：

- harvester * 2，每个 source 一个，harvester 会自发的在脚下修建和维持 container。

# 阶段2 - container 修建完成

harvester 在 container 修建好时，会运行 porter 和 upgrader 的自动规划，发布如下 creep：

- 对应的 porter，会从新建好的 container 中取出能量并完成房间物流任务。
- 对应的 upgrader * 2，从新建好的 container 中取出能量并升级 controller，为了避免和 porter 抢夺能量，upgrader 只会在 container 中能量大于 500 时才会取用。

当两个 container 都修建好时，场上一共有 harvester * 2、porter * 2、upgrader * 4。

# 阶段3 - storage 修建完成

controller 等级到达 4 级时，布局自动规划会自动放下 storage 的工地。当 storage 建造完成时，会发布 transfer。

# 待解决

- porter 是弱化版的 transfer，会在没有房间任务时把能量扮演到 storage。
- builder 需要学会自动调整能量来源。